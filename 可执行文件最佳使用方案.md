# 🎯 XHS-Downloader 可执行文件最佳使用方案

## 💡 重要发现

通过用户实际测试发现：**将可执行文件放在源码目录中运行效果最佳！**

## 📋 推荐的使用方式

### 🌟 方案一：完整目录部署（推荐）

创建一个完整的工作目录，包含必要的资源文件：

```
📁 XHS-Downloader/
├── 🚀 XHS-Downloader(.exe)        # 可执行文件
├── ⚙️ settings.json               # 配置文件
├── 📂 static/                     # 静态资源目录
│   ├── XHS-Downloader.tcss       # TUI 样式文件
│   ├── XHS-Downloader.ico        # Windows 图标
│   ├── XHS-Downloader.icns       # macOS 图标
│   └── ...                       # 其他静态文件
├── 📂 locale/                     # 多语言目录
│   ├── zh_CN/LC_MESSAGES/         # 中文语言包
│   ├── en_US/LC_MESSAGES/         # 英文语言包
│   └── ...
├── 📂 Download/                   # 下载文件目录
│   ├── notes/                     # 文字内容
│   ├── images/                    # 图片文件
│   ├── videos/                    # 视频文件
│   └── livePhotos/                # 动态照片
└── 📂 temp/                       # 临时文件目录
```

### 🎯 方案二：源码目录运行（最稳定）

直接在项目源码目录中运行可执行文件：

1. **下载完整的项目源码**
2. **将可执行文件放入源码根目录**
3. **直接运行可执行文件**

这种方式确保所有资源文件都能正确访问。

## 🛠️ 部署步骤

### 步骤1: 创建工作目录

```bash
# 创建主目录
mkdir XHS-Downloader
cd XHS-Downloader

# 创建必要的子目录
mkdir static locale Download temp
mkdir Download/notes Download/images Download/videos Download/livePhotos
```

### 步骤2: 复制必要文件

从 GitHub Release 或源码中复制以下文件：

```bash
# 必需文件
XHS-Downloader(.exe)           # 主程序
settings.json                  # 配置文件

# 静态资源（从源码 static/ 目录复制）
static/XHS-Downloader.tcss     # TUI 样式
static/XHS-Downloader.ico      # Windows 图标
static/XHS-Downloader.icns     # macOS 图标

# 多语言文件（从源码 locale/ 目录复制）
locale/zh_CN/LC_MESSAGES/xhs.mo    # 中文语言包
locale/en_US/LC_MESSAGES/xhs.mo    # 英文语言包
```

### 步骤3: 运行程序

```bash
# Windows
./XHS-Downloader.exe

# macOS/Linux
./XHS-Downloader
```

## 🎨 自动部署脚本

### Windows 批处理脚本 (setup.bat)

```batch
@echo off
echo 📦 创建 XHS-Downloader 工作目录...

mkdir static 2>nul
mkdir locale 2>nul
mkdir locale\zh_CN\LC_MESSAGES 2>nul
mkdir locale\en_US\LC_MESSAGES 2>nul
mkdir Download 2>nul
mkdir Download\notes 2>nul
mkdir Download\images 2>nul
mkdir Download\videos 2>nul
mkdir Download\livePhotos 2>nul
mkdir temp 2>nul

echo ✅ 目录结构创建完成！
echo 💡 请将以下文件复制到对应目录：
echo    - static/ 目录下的资源文件
echo    - locale/ 目录下的语言文件
echo    - settings.json 配置文件
pause
```

### macOS/Linux 脚本 (setup.sh)

```bash
#!/bin/bash
echo "📦 创建 XHS-Downloader 工作目录..."

mkdir -p static
mkdir -p locale/{zh_CN,en_US}/LC_MESSAGES
mkdir -p Download/{notes,images,videos,livePhotos}
mkdir -p temp

echo "✅ 目录结构创建完成！"
echo "💡 请将以下文件复制到对应目录："
echo "   - static/ 目录下的资源文件"
echo "   - locale/ 目录下的语言文件"
echo "   - settings.json 配置文件"
```

## 🔧 GitHub Actions 改进建议

为了让用户获得更好的体验，我们可以改进 GitHub Actions 构建，创建完整的发布包：

### 发布包结构建议

```
XHS-Downloader-平台名-完整版.zip
├── XHS-Downloader(.exe)
├── settings.json
├── static/
│   ├── XHS-Downloader.tcss
│   ├── XHS-Downloader.ico/.icns
│   └── ...
├── locale/
│   ├── zh_CN/LC_MESSAGES/xhs.mo
│   ├── en_US/LC_MESSAGES/xhs.mo
│   └── ...
├── 使用说明.txt
└── setup脚本
```

## 🎯 用户使用建议

### 推荐方案排序

1. **🌟 完整目录部署**：下载完整发布包，解压即用
2. **🔧 源码目录运行**：在项目源码目录中运行（您的发现！）
3. **⚙️ 手动配置**：自己创建目录结构和复制文件

### 故障排除

如果遇到以下错误：
- `StylesheetError: unable to read CSS file`
- `Translation files not found`
- 界面显示异常

**解决方案**：
1. 检查可执行文件同目录是否有 `static/` 和 `locale/` 文件夹
2. 尝试将可执行文件放入完整的源码目录
3. 确保所有资源文件都已正确复制

## 🚀 未来改进

基于您的发现，我们将：

1. **✅ 修复路径检测代码**：让程序更好地处理资源文件路径
2. **📦 改进发布包**：包含完整的资源文件结构
3. **📚 完善文档**：提供更清晰的部署指南
4. **🤖 自动化脚本**：提供一键部署脚本

---

**感谢您的重要发现！** 这为其他用户提供了宝贵的使用经验。🎉

您的测试证明了：**简单的解决方案往往是最有效的！**